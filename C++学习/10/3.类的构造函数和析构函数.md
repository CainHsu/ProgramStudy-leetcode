# 类的构造函数和析构函数
类不能使用构造体的方式初始化，这是因为类的成员通常是私有的不能直接访问成员
## 声明和定义构造函数
```C++
stock::stock(const string & co, long n = 0, double pr = 0.0){
    company = co;
}
```
要避免构造函数的参数与成员名称相同

## 使用构造函数
### 构造函数的使用区别
C++提供了两种使用构造函数初始化的方式
- 显式的调用构造函数
```
stock food = stock("test", 1, 2.2);
```
注意！  
编译器可能会使用两种方法调用此种构造函数：  
第一种：直接初始化  
第二种：创建临时对象，复制到新建对象中
- 隐式的调用构造函数
```
stock food("test", 1, 2.2);
```
此种方法通常会使用复制构造函数

因此，通常情况下应采用第一种方式。

## 默认构造函数
默认的构造函数如下：
```
stock::stock() {}
```

自定义默认构造函数：
- 方法一
创建对象并且不显式的初始化
```
stock(const string & co = "Error", int n = 0, double pr = 0.0);
```
- 方法二
```C++
stock::stock(){
    company = "no name";
    shares = 0;
    share_val = 0.0;
    total_val = 0.0;
}
```
只能有一种默认构造函数，因此不能同时定义以上两种构造函数。

自定构造函数后，创建对象后会自动调用自定的构造函数。

## 析构函数
```
stock::~stock(){
    cout << name << " has gone.";
}
```
使用情形：
- 静态储存对象：在程序结束时自动调用
- 自动存储对象：在执行完代码块时调用
- 用过new创建：在使用delete时调用
- 临时对象：结束此对象的使用时调用

## 类实现的一般方式
- 在hpp文件中声明类及其成员函数
- 在cpp文件中定义声明过的成员函数



